{"version":3,"sources":["redux/reducers/fetchData.js","redux/reducers/index.js","redux/actions.js","redux/store.js","redux/selectors.js","components/List.js","components/Recommandation.js","components/MyList.js","index.js"],"names":["initialState","pending","list","recommendation","error","combineReducers","fetchData","state","action","type","remove_id","id","remove_obj","filter","item","add_id","add_obj","loggerMiddleware","createLogger","getList","getRecommendation","getPending","getError","connect","deleteMyList","props","className","map","mylist","key","src","img","alt","title","onClick","preloadedState","addToMyList","MyList","this","dispatch","fetch","then","res","json","recommendations","catch","fetchError","message","React","Component","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.77844a21.chunk.js","sourcesContent":["import { FETCH_ERROR,\n  FETCH_PENDING,\n  FETCH_SUCCESS,\n  REMOVE_FROM_MY_LIST,\n  ADD_TO_MY_LIST } from '../actions';\n\nconst initialState = {\n  pending: false,\n  list: [],\n  recommendation: [],\n  error: null\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_ERROR: {\n      return {\n        ...state,\n        pending: false,\n        error: action.error\n      };\n    }\n\n    case FETCH_PENDING: {\n      return {\n        ...state,\n        pending:true\n      };\n    }\n\n    case FETCH_SUCCESS: {\n      return {\n        ...state,\n        pending: false,\n        list: action.list,\n        recommendation: action.recommendation\n      };\n    }\n\n    case REMOVE_FROM_MY_LIST: {\n      const remove_id = action.id;\n      const remove_obj = state.list.filter(item => item.id === remove_id);\n      return {\n        ...state,\n        list: state.list.filter(item => item.id !== remove_id),\n        recommendation: [...state.recommendation, ...remove_obj]\n      };\n    }\n\n    case ADD_TO_MY_LIST: {\n      const add_id = action.id;\n      const add_obj = state.recommendation.filter(item => item.id === add_id);\n      return {\n        ...state,\n        recommendation: state.recommendation.filter(item => item.id !== add_id),\n        list: [...state.list, ...add_obj]\n      };\n    }\n\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport fetchData from './fetchData';\n\nexport default combineReducers(\n  {\n    fetchData,\n  }\n);","export const FETCH_PENDING = 'FETCH_PENDING';\nexport const FETCH_ERROR = 'FETCH_ERROR';\nexport const FETCH_SUCCESS = 'FETCH_SUCCESS';\nexport const REMOVE_FROM_MY_LIST = \"REMOVE_FROM_MY_LIST\";\nexport const ADD_TO_MY_LIST = \"ADD_TO_MY_LIST\";\n\n\nexport function fetchPending() {\n  return {\n    type: FETCH_PENDING\n  };\n}\n\nexport function fetchError(error) {\n  return {\n    type: FETCH_ERROR,\n    error: error\n  };\n}\n\nexport function fetchSuccess(list) {\n  return {\n    type: FETCH_SUCCESS,\n    list: list.mylist,\n    recommendation: list.recommendations\n  };\n}\n\nexport function fetchList() {\n  return dispatch => {\n    dispatch(fetchPending());\n    fetch('https://4612cd5d-6a03-4ed3-b98d-572baf71b15b.mock.pstmn.io/netflix_mylist')\n    .then(res => res.json())\n    .then(res => {\n      if (res.error) {\n        throw(res.error);\n      }\n\n      dispatch(fetchSuccess(res));\n      return res;\n    })\n    .catch(error => {\n      dispatch(fetchError(error));\n    })\n  }\n}\n\nexport function deleteMyList(id) {\n  return {\n    type: REMOVE_FROM_MY_LIST,\n    id: id\n  };\n}\n\nexport function addToMyList(id) {\n  return {\n    type: ADD_TO_MY_LIST,\n    id: id\n  };\n}","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport rootReducer from './reducers';\n\nconst loggerMiddleware = createLogger();\n\nexport default function configureStore(preloadedState) {\n  return createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(thunkMiddleware, loggerMiddleware)\n  );\n}\n","export const getList = state => state.fetchData.list;\n\nexport const getRecommendation = state => state.fetchData.recommendation;\n\nexport const getPending = state => state.fetchData.pending;\n\nexport const getError = state => state.fetchData.error;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { deleteMyList } from '../redux/actions';\n\nfunction List (props) {\n  return (\n    <div className=\"myList\">\n      {props.list.map(mylist => {\n        return (\n          <figure key={mylist.id} className=\"figure-mylist\">\n            <img src={mylist.img} alt={mylist.id} />\n            <figcaption>{mylist.title}</figcaption>\n            <button\n              className=\"btn\"\n              onClick={() => props.deleteMyList(mylist.id)}>\n              Remove\n            </button>\n          </figure>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default connect (\n  null,\n  {deleteMyList}\n)(List);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { addToMyList } from '../redux/actions'\n\nfunction Recommandation (props) {\n  return (\n    <div className=\"myList\">\n    {props.recommendation.map(mylist => {\n      return (\n        <figure key={mylist.id} className=\"figure-mylist\">\n          <img src={mylist.img} alt={mylist.id} />\n          <figcaption>{mylist.title}</figcaption>\n          <button\n            className=\"btn\"\n            onClick={() => props.addToMyList(mylist.id)}>\n            Add\n          </button>\n        </figure>\n      );\n    })}\n    </div>\n  );\n}\n\nexport default connect (\n  null,\n  {addToMyList}\n)(Recommandation);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getList, getRecommendation, getPending, getError } from '../redux/selectors';\nimport { fetchList } from '../redux/actions';\nimport List from './List';\nimport Recommandation from './Recommandation';\n\nclass MyList extends React.Component {\n  componentDidMount() {\n    this.props.dispatch(fetchList());\n  }\n\n  render() {\n    const { pending, list, recommendation, error } = this.props;\n    if (pending) {\n      return (<p>Pending...</p>);\n    } else if (error) {\n      return (<p>Loading Error! {error.message}</p>);\n    }\n\n    return (\n      <div>\n        <div className=\"bar\">\n          <img\n            src=\"https://www.stickpng.com/assets/images/580b57fcd9996e24bc43c529.png\"\n            alt=\"netflix-icon\">\n          </img>\n        </div>\n        <div className=\"list-header\">\n          <h2>My List</h2>\n        </div>\n        <List list={list} />\n        <div className=\"list-header\">\n          <h2>Recommandation</h2>\n        </div>\n        <Recommandation recommendation= {recommendation} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  pending: getPending(state),\n  list: getList(state),\n  recommendation: getRecommendation(state),\n  error: getError(state)\n});\n\nexport default connect(\n  mapStateToProps\n)(MyList);\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport configureStore from './redux/store';\nimport MyList from './components/MyList'\n// import App from './App';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store = {store}>\n    <MyList />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}