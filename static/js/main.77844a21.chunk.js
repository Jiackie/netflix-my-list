(this["webpackJsonpnetflix-my-list"]=this["webpackJsonpnetflix-my-list"]||[]).push([[0],{18:function(e,t,n){e.exports=n(28)},28:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(5),c=n.n(i),o=n(1),l=n(2),m=n(12),s=n(13),u=n(4),d=n(3);var f={pending:!1,list:[],recommendation:[],error:null};var E=Object(l.c)({fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ERROR":return Object(d.a)({},e,{pending:!1,error:t.error});case"FETCH_PENDING":return Object(d.a)({},e,{pending:!0});case"FETCH_SUCCESS":return Object(d.a)({},e,{pending:!1,list:t.list,recommendation:t.recommendation});case"REMOVE_FROM_MY_LIST":var n=t.id,r=e.list.filter((function(e){return e.id===n}));return Object(d.a)({},e,{list:e.list.filter((function(e){return e.id!==n})),recommendation:[].concat(Object(u.a)(e.recommendation),Object(u.a)(r))});case"ADD_TO_MY_LIST":var a=t.id,i=e.recommendation.filter((function(e){return e.id===a}));return Object(d.a)({},e,{recommendation:e.recommendation.filter((function(e){return e.id!==a})),list:[].concat(Object(u.a)(e.list),Object(u.a)(i))});default:return e}}}),p=Object(s.createLogger)();var b=n(14),g=n(15),O=n(16),h=n(17),y=function(e){return e.fetchData.list},v=function(e){return e.fetchData.recommendation},j=function(e){return e.fetchData.pending},_=function(e){return e.fetchData.error};var M=Object(o.b)(null,{deleteMyList:function(e){return{type:"REMOVE_FROM_MY_LIST",id:e}}})((function(e){return a.a.createElement("div",{className:"myList"},e.list.map((function(t){return a.a.createElement("figure",{key:t.id,className:"figure-mylist"},a.a.createElement("img",{src:t.img,alt:t.id}),a.a.createElement("figcaption",null,t.title),a.a.createElement("button",{className:"btn",onClick:function(){return e.deleteMyList(t.id)}},"Remove"))})))}));var T,C=Object(o.b)(null,{addToMyList:function(e){return{type:"ADD_TO_MY_LIST",id:e}}})((function(e){return a.a.createElement("div",{className:"myList"},e.recommendation.map((function(t){return a.a.createElement("figure",{key:t.id,className:"figure-mylist"},a.a.createElement("img",{src:t.img,alt:t.id}),a.a.createElement("figcaption",null,t.title),a.a.createElement("button",{className:"btn",onClick:function(){return e.addToMyList(t.id)}},"Add"))})))})),L=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){e({type:"FETCH_PENDING"}),fetch("https://4612cd5d-6a03-4ed3-b98d-572baf71b15b.mock.pstmn.io/netflix_mylist").then((function(e){return e.json()})).then((function(t){if(t.error)throw t.error;var n;return e({type:"FETCH_SUCCESS",list:(n=t).mylist,recommendation:n.recommendations}),t})).catch((function(t){e(function(e){return{type:"FETCH_ERROR",error:e}}(t))}))}))}},{key:"render",value:function(){var e=this.props,t=e.pending,n=e.list,r=e.recommendation,i=e.error;return t?a.a.createElement("p",null,"Pending..."):i?a.a.createElement("p",null,"Loading Error! ",i.message):a.a.createElement("div",null,a.a.createElement("div",{className:"bar"},a.a.createElement("img",{src:"https://www.stickpng.com/assets/images/580b57fcd9996e24bc43c529.png",alt:"netflix-icon"})),a.a.createElement("div",{className:"list-header"},a.a.createElement("h2",null,"My List")),a.a.createElement(M,{list:n}),a.a.createElement("div",{className:"list-header"},a.a.createElement("h2",null,"Recommandation")),a.a.createElement(C,{recommendation:r}))}}]),n}(a.a.Component),N=Object(o.b)((function(e){return{pending:j(e),list:y(e),recommendation:v(e),error:_(e)}}))(L),D=Object(l.d)(E,T,Object(l.a)(m.a,p));c.a.render(a.a.createElement(o.a,{store:D},a.a.createElement(N,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.77844a21.chunk.js.map